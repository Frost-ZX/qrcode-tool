(function(){var e={9984:function(e,t,o){"use strict";var r=o(2181),n=o(9953),a=o(8165),l=o(8204),c=o(6442),s=o(6034),i=o(191),u=o(4367),d=o(6054),m=o(3683),g=o(6623),p=o(7524);o(9910);function f(e){return e.use(n.i).use(a.z).use(l.II).use(c.R).use(s.g).use(i.G).use(u.Ph).use(d.Z).use(m.z).use(m.e).use(g.u).use(p.g)}var b=o(5966);const v={generate:"Generator",parse:"Reader",qrcode:"QR Code",btnCopy:"Copy",btnCopyDesc:"Copy Preview URL",btnGenerate:"Generate",btnGenerateDesc:"Generate QR Code",codeColor:"Color",codeContent:"Content",codeImagePick:"Select Image",codeImageResult:"Result",codeImageTips:"The QR code image can be copied and pasted here (Ctrl+V) for parsing.",codePreview:"Preview",codeSize:"Size",codeTips:"You may parse the QR code by long pressing it on the mobile.",setColorBackground:"Background Color: ",setColorForeground:"Foreground Color: ",setMargin:"Margin: ",setSize:"Size: "};var w=v;const h={generate:"生成",parse:"解析",qrcode:"二维码",btnCopy:"复制",btnCopyDesc:"复制二维码预览地址",btnGenerate:"生成",btnGenerateDesc:"生成二维码",codeColor:"颜色",codeContent:"内容",codeImagePick:"选择图片",codeImageResult:"识别结果",codeImageTips:"支持复制二维码图片后直接在此处粘贴（Ctrl + V）进行解析。",codePreview:"预览",codeSize:"大小",codeTips:"若您在移动端访问，可尝试长按识别。",setColorBackground:"背景颜色：",setColorForeground:"前景颜色：",setMargin:"边距：",setSize:"尺寸："};var U=h;const S=localStorage.getItem("APP_LOCALE")||"zh",y=(0,b.o)({locale:S,fallbackLocale:"zh",legacy:!1,messages:{en:w,zh:U}});function C(e){return e.use(y)}var k=o(6492),_=o(9994),L=o(2185),R=o(4790),x=o(3482),z=(o(1603),o(8129),o(4461),o(1080),o(7888),o(5825),o(8796),o(1875),o(2824),o(9609),o(2511),o(5806)),F=o(7216),I=o(2775);function D(e="info",t={}){return(0,I.Z)(e,{content:"",duration:2e3,...t})}function P(e){if(!e)return console.error("转换失败：参数为空"),null;try{let t=e.split(","),o=t[0].match(/:(.*?);/)[1],r=atob(t[1]),n=r.length,a=new Uint8Array(n);while(n-- >0)a[n]=r.charCodeAt(n);return new Blob([a],{type:o})}catch(t){return console.error("转换失败，可能是参数错误："),console.error(t),null}}function V(e){return e?new Promise((t=>{const o=new Image;o.onerror=function(){console.error("转换失败：参数错误"),t(null)},o.onload=function(){t(o)},o.src=e})):(console.error("转换失败：参数为空"),Promise.resolve(null))}async function T(e={}){const{colorBackground:t="#FFFFFF",colorForeground:o="#000000",margin:r=10,size:n=256,text:a=""}=e;return new z.AwesomeQR({autoColor:!1,colorDark:"#000000",colorLight:"#FFFFFF",components:{alignment:{scale:1,protectors:!1},cornerAlignment:{scale:1,protectors:!0},data:{scale:1},timing:{scale:1,protectors:!1}},correctLevel:z.QRErrorCorrectLevel.M,margin:r,size:n,text:a,whiteMargin:!1}).draw().then((e=>{if(!e)return{error:new Error("生成结果为空"),result:null,success:!1};const r=O(t),a=O(o),l=document.createElement("canvas"),c=l.getContext("2d");return l.width=n,l.height=n,V(e).then((e=>{if(!e)return null;c.drawImage(e,0,0);let t=c.getImageData(0,0,n,n),o=t.data;for(let n=0;n<o.length;n+=4){let e=o[n],t=o[n+1],l=o[n+2],c=e+t+l;switch(c){case 765:o[n]=r[0],o[n+1]=r[1],o[n+2]=r[2],o[n+3]=255;break;case 0:o[n]=a[0],o[n+1]=a[1],o[n+2]=a[2],o[n+3]=255;break;default:o[n]=a[0],o[n+1]=a[1],o[n+2]=a[2],o[n+3]=128;break}}return c.putImageData(t,0,0),V(l.toDataURL("image/png"))})).then((e=>e?(c.fillStyle=t,c.fillRect(0,0,n,n),c.drawImage(e,0,0),{error:null,result:l.toDataURL("image/png"),success:!0}):{error:null,result:null,success:!1}))})).catch((e=>({error:e,result:null,success:!1})))}function O(e){if(!e)return console.error("转换失败：缺少参数"),[0,0,0,0];let t=document.createElement("canvas"),o=null;t.width=1,t.height=1,o=t.getContext("2d"),o.fillStyle=e,o.fillRect(0,0,1,1);try{let{data:e}=o.getImageData(0,0,1,1);return[e[0],e[1],e[2],e[3]]}catch(r){return console.error("转换失败："),console.error(r),[0,0,0,0]}}function j(){const e=location.search,t=(0,F.parse)(e,{charset:"utf-8",ignoreQueryPrefix:!0});return t}function W(e={}){return(0,F.stringify)(e,{charset:"utf-8",addQueryPrefix:!1})}const q={class:"qr-encode"},E=["alt","src"],G={class:"config-item"},Q={class:"label"},A={class:"config-item"},B={class:"label"},M={class:"config-item"},Z={class:"config-item"};var H={__name:"CodeGenerator",props:{readonly:{type:Boolean,default:!1}},setup(e){const t=(0,b.QT)().t,o=(0,_.Um)({codeSize:0,codeURL:"",readonly:!1,colorBackground:"#FFFFFF",colorForeground:"#000000",margin:10,size:256,text:""}),n=(0,k.Fl)((()=>!o.readonly));function a(){const{readonly:e="0",text:t=""}=j();o.readonly="1"===e,o.text=t}function l(){const e=location.origin,t=location.pathname,r=W({readonly:"1",text:o.text}),n=`${e}${t}?${r}`;navigator.clipboard.writeText(n).then((()=>{D("success",{content:"复制成功"})})).catch((()=>{D("error",{content:"复制失败，可能是没有权限"})}))}async function c(){const{error:e,result:t,success:r}=await T(o);r||(console.error("生成二维码失败："),console.error(e));const n=P(t),a=n?URL.createObjectURL(n):null;o.codeURL&&URL.revokeObjectURL(o.codeURL),o.codeSize=o.size,o.codeURL=a}return(0,k.wF)((()=>{a()})),(0,k.bv)((()=>{c()})),(e,a)=>{const s=(0,k.up)("t-button"),i=(0,k.up)("t-tooltip"),u=(0,k.up)("t-card"),d=(0,k.up)("t-textarea"),m=(0,k.up)("t-color-picker"),g=(0,k.up)("t-input-number");return(0,k.wg)(),(0,k.iD)("div",q,[(0,k.Wm)(u,{class:"content-card code-result",bordered:!1,"header-bordered":!0,shadow:!0,title:(0,_.SU)(t)("codePreview")},(0,k.Nv)({default:(0,k.w5)((()=>[(0,k._)("div",{class:"code-image-wrapper",style:(0,L.j5)({"--code-size":(0,_.SU)(o).codeSize})},[(0,_.SU)(o).codeURL?((0,k.wg)(),(0,k.iD)("img",{key:0,class:"code-image",alt:(0,_.SU)(t)("qrcode"),src:(0,_.SU)(o).codeURL},null,8,E)):(0,k.kq)("",!0)],4),(0,k.wy)((0,k._)("div",{class:"code-tips"},(0,L.zw)((0,_.SU)(t)("codeTips")),513),[[r.F8,(0,_.SU)(o).readonly]])])),_:2},[(0,_.SU)(n)?{name:"actions",fn:(0,k.w5)((()=>[(0,k.Wm)(i,{content:(0,_.SU)(t)("btnGenerateDesc")},{default:(0,k.w5)((()=>[(0,k.Wm)(s,{theme:"primary",variant:"text",onClick:c},{default:(0,k.w5)((()=>[(0,k.Uk)((0,L.zw)((0,_.SU)(t)("btnGenerate")),1)])),_:1})])),_:1},8,["content"]),(0,k.Wm)(i,{content:(0,_.SU)(t)("btnCopyDesc")},{default:(0,k.w5)((()=>[(0,k.Wm)(s,{theme:"primary",variant:"text",onClick:l},{default:(0,k.w5)((()=>[(0,k.Uk)((0,L.zw)((0,_.SU)(t)("btnCopy")),1)])),_:1})])),_:1},8,["content"])])),key:"0"}:void 0]),1032,["title"]),(0,_.SU)(n)?((0,k.wg)(),(0,k.j4)(u,{key:0,class:"content-card set-text",bordered:!1,"header-bordered":!0,shadow:!0,title:(0,_.SU)(t)("codeContent")},{default:(0,k.w5)((()=>[(0,k.Wm)(d,{modelValue:(0,_.SU)(o).text,"onUpdate:modelValue":a[0]||(a[0]=e=>(0,_.SU)(o).text=e)},null,8,["modelValue"])])),_:1},8,["title"])):(0,k.kq)("",!0),(0,_.SU)(n)?((0,k.wg)(),(0,k.j4)(u,{key:1,class:"content-card set-color",bordered:!1,"header-bordered":!0,shadow:!0,title:(0,_.SU)(t)("codeColor")},{default:(0,k.w5)((()=>[(0,k._)("div",G,[(0,k._)("span",Q,(0,L.zw)((0,_.SU)(t)("setColorForeground")),1),(0,k.Wm)(m,{modelValue:(0,_.SU)(o).colorForeground,"onUpdate:modelValue":a[1]||(a[1]=e=>(0,_.SU)(o).colorForeground=e),"color-modes":["monochrome"],"recent-colors":null,format:"HEX"},null,8,["modelValue"])]),(0,k._)("div",A,[(0,k._)("span",B,(0,L.zw)((0,_.SU)(t)("setColorBackground")),1),(0,k.Wm)(m,{modelValue:(0,_.SU)(o).colorBackground,"onUpdate:modelValue":a[2]||(a[2]=e=>(0,_.SU)(o).colorBackground=e),"color-modes":["monochrome"],"recent-colors":null,format:"HEX"},null,8,["modelValue"])])])),_:1},8,["title"])):(0,k.kq)("",!0),(0,_.SU)(n)?((0,k.wg)(),(0,k.j4)(u,{key:2,class:"content-card set-size",bordered:!1,"header-bordered":!0,shadow:!0,title:(0,_.SU)(t)("codeSize")},{default:(0,k.w5)((()=>[(0,k._)("div",M,[(0,k.Wm)(g,{modelValue:(0,_.SU)(o).size,"onUpdate:modelValue":a[3]||(a[3]=e=>(0,_.SU)(o).size=e),theme:"column","allow-input-over-limit":!1,"decimal-places":0,min:128,max:1024,step:1,label:(0,_.SU)(t)("setSize")},null,8,["modelValue","label"])]),(0,k._)("div",Z,[(0,k.Wm)(g,{modelValue:(0,_.SU)(o).margin,"onUpdate:modelValue":a[4]||(a[4]=e=>(0,_.SU)(o).margin=e),theme:"column","allow-input-over-limit":!1,"decimal-places":0,min:0,max:100,step:1,label:(0,_.SU)(t)("setMargin")},null,8,["modelValue","label"])])])),_:1},8,["title"])):(0,k.kq)("",!0)])}}},K=o(1164);const X=(0,K.Z)(H,[["__scopeId","data-v-9b62ab88"]]);var Y=X,$=(o(9694),o(7)),J=o.n($);const N={class:"qr-decode"},ee={class:"code-tips"};var te={__name:"CodeReader",setup(e){const t=(0,b.QT)().t,o=(0,_.Um)({files:[],imageURL:"",text:""});function r(e){const t=e.clipboardData,o=t?t.items:null;let r=null;if(o){for(let e=0;e<o.length;e++){let t=o[e];if("file"===t.kind&&t.type.includes("image/")){r=t.getAsFile();break}}r?n({raw:r}):D("warning",{content:"剪贴板中没有图片",duration:2e3})}}function n(e){if(!e)return Promise.resolve({error:"参数错误",status:"fail"});const t=e.raw,r=URL.createObjectURL(t);return o.imageURL&&URL.revokeObjectURL(o.imageURL),o.imageURL=r,a(r),Promise.resolve({status:"success",response:{url:r}})}function a(e=""){let t=document.createElement("canvas"),r=null,n=new Image;n.onload=function(){const e=n.naturalWidth,a=n.naturalHeight;t.width=e,t.height=a,r=t.getContext("2d"),r.drawImage(n,0,0);const l=r.getImageData(0,0,e,a),c=J()(l.data,e,a);c?(D("success",{content:"解析成功",duration:2e3}),o.text=c.data):(D("warning",{content:"未在图片中识别到二维码",duration:2e3}),o.text="")},n.src=e}return(0,k.bv)((()=>{document.addEventListener("paste",r)})),(0,k.Jd)((()=>{document.removeEventListener("paste",r)})),(e,r)=>{const a=(0,k.up)("t-upload"),l=(0,k.up)("t-card"),c=(0,k.up)("t-textarea");return(0,k.wg)(),(0,k.iD)("div",N,[(0,k.Wm)(l,{class:"content-card code-picker",bordered:!1,"header-bordered":!0,shadow:!0,title:(0,_.SU)(t)("codeImagePick")},{default:(0,k.w5)((()=>[(0,k.Wm)(a,{modelValue:(0,_.SU)(o).files,"onUpdate:modelValue":r[0]||(r[0]=e=>(0,_.SU)(o).files=e),accept:"image/*",theme:"image","auto-upload":!0,multiple:!1,"request-method":n,draggable:""},null,8,["modelValue"]),(0,k._)("div",ee,[(0,k._)("span",null,(0,L.zw)((0,_.SU)(t)("codeImageTips")),1)])])),_:1},8,["title"]),(0,k.Wm)(l,{class:"content-card code-result",bordered:!1,"header-bordered":!0,shadow:!0,title:(0,_.SU)(t)("codeImageResult")},{default:(0,k.w5)((()=>[(0,k.Wm)(c,{modelValue:(0,_.SU)(o).text,"onUpdate:modelValue":r[1]||(r[1]=e=>(0,_.SU)(o).text=e),readonly:""},null,8,["modelValue"])])),_:1},8,["title"])])}}};const oe=(0,K.Z)(te,[["__scopeId","data-v-2459c4ba"]]);var re=oe;const ne={class:"app-header"},ae={class:"app-wrapper"},le=["textContent","onClick"],ce=(0,k._)("div",{class:"placeholder"},null,-1),se={class:"label"},ie=(0,k._)("span",{class:"icon mdi mdi-earth"},null,-1);var ue={__name:"App",setup(e){const{locale:t,t:o}=(0,b.QT)(),r=(0,_.Um)({currTabComponent:null,currTabKey:"",tDesignLocale:null}),n=(0,_.Xl)([{key:"encode",label:"generate",c:Y},{key:"decode",label:"parse",c:re}]);function a(){let e=t.value;t.value="zh"===e?"en":"zh",c()}function l(e={}){r.currTabComponent=e.c,r.currTabKey=e.key}function c(){let e=t.value;r.tDesignLocale="en"===e?R.Z:x.Z,localStorage.setItem("APP_LOCALE",e)}return(0,k.wF)((()=>{c()})),(0,k.bv)((()=>{l(n[0])})),(e,c)=>{const s=(0,k.up)("t-config-provider");return(0,k.wg)(),(0,k.iD)(k.HY,null,[(0,k._)("div",ne,[(0,k._)("div",ae,[((0,k.wg)(!0),(0,k.iD)(k.HY,null,(0,k.Ko)((0,_.SU)(n),(e=>((0,k.wg)(),(0,k.iD)("div",{textContent:(0,L.zw)((0,_.SU)(o)(e.label)),key:e.key,class:(0,L.C_)([{active:(0,_.SU)(r).currTabKey===e.key},"tab-item"]),onClick:t=>l(e)},null,10,le)))),128)),ce,(0,k._)("div",{class:"locale",onClick:a},[(0,k._)("span",se,(0,L.zw)((0,_.SU)(t)),1),ie])])]),(0,k.Wm)(s,{class:"app-content","global-config":(0,_.SU)(r).tDesignLocale},{default:(0,k.w5)((()=>[(0,_.SU)(r).currTabComponent?((0,k.wg)(),(0,k.j4)((0,k.LL)((0,_.SU)(r).currTabComponent),{key:0,class:"app-wrapper"})):(0,k.kq)("",!0)])),_:1},8,["global-config"])],64)}}};const de=ue;var me=de;const ge=(0,r.ri)(me);f(ge),C(ge),ge.mount("#app")},1129:function(){}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,o),a.exports}o.m=e,function(){var e=[];o.O=function(t,r,n,a){if(!r){var l=1/0;for(u=0;u<e.length;u++){r=e[u][0],n=e[u][1],a=e[u][2];for(var c=!0,s=0;s<r.length;s++)(!1&a||l>=a)&&Object.keys(o.O).every((function(e){return o.O[e](r[s])}))?r.splice(s--,1):(c=!1,a<l&&(l=a));if(c){e.splice(u--,1);var i=n();void 0!==i&&(t=i)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,n,a]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,a,l=r[0],c=r[1],s=r[2],i=0;if(l.some((function(t){return 0!==e[t]}))){for(n in c)o.o(c,n)&&(o.m[n]=c[n]);if(s)var u=s(o)}for(t&&t(r);i<l.length;i++)a=l[i],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(u)},r=self["webpackChunkqrcode_tool"]=self["webpackChunkqrcode_tool"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=o.O(void 0,[998],(function(){return o(9984)}));r=o.O(r)})();