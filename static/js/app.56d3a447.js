(function(){var e={8607:function(e,t,r){"use strict";var o=r(2181),n=r(8165),l=r(290),c=r(6514),a=r(191),u=r(4367),i=r(6054),s=r(7167),d=r(6623);r(9910);function m(e){return e.use(n.z).use(l.II).use(c.R).use(a.G).use(u.Ph).use(i.Z).use(s.z).use(s.e).use(d.u)}var f=r(6492),p=r(9994),g=r(2185),h=(r(1603),r(8129),r(4461),r(1080),r(7888),r(5825),r(8796),r(1875),r(2824),r(9609),r(2511),r(5806)),v=r(7216),w=r(4604);function b(e="info",t={}){return(0,w.Z)(e,{content:"",duration:2e3,...t})}function y(e){if(!e)return console.error("转换失败：参数为空"),null;try{let t=e.split(","),r=t[0].match(/:(.*?);/)[1],o=atob(t[1]),n=o.length,l=new Uint8Array(n);while(n-- >0)l[n]=o.charCodeAt(n);return new Blob([l],{type:r})}catch(t){return console.error("转换失败，可能是参数错误："),console.error(t),null}}function U(e){return e?new Promise((t=>{const r=new Image;r.onerror=function(){console.error("转换失败：参数错误"),t(null)},r.onload=function(){t(r)},r.src=e})):(console.error("转换失败：参数为空"),Promise.resolve(null))}async function k(e={}){const{colorBackground:t="#FFFFFF",colorForeground:r="#000000",margin:o=10,size:n=256,text:l=""}=e;return new h.AwesomeQR({autoColor:!1,colorDark:"#000000",colorLight:"#FFFFFF",components:{alignment:{scale:1,protectors:!1},cornerAlignment:{scale:1,protectors:!0},data:{scale:1},timing:{scale:1,protectors:!1}},correctLevel:h.QRErrorCorrectLevel.M,margin:o,size:n,text:l,whiteMargin:!1}).draw().then((e=>{if(!e)return{error:new Error("生成结果为空"),result:null,success:!1};const o=_(t),l=_(r),c=document.createElement("canvas"),a=c.getContext("2d");return c.width=n,c.height=n,U(e).then((e=>{if(!e)return null;a.drawImage(e,0,0);let t=a.getImageData(0,0,n,n),r=t.data;for(let n=0;n<r.length;n+=4){let e=r[n],t=r[n+1],c=r[n+2],a=e+t+c;switch(a){case 765:r[n]=o[0],r[n+1]=o[1],r[n+2]=o[2],r[n+3]=255;break;case 0:r[n]=l[0],r[n+1]=l[1],r[n+2]=l[2],r[n+3]=255;break;default:r[n]=l[0],r[n+1]=l[1],r[n+2]=l[2],r[n+3]=128;break}}return a.putImageData(t,0,0),U(c.toDataURL("image/png"))})).then((e=>e?(a.fillStyle=t,a.fillRect(0,0,n,n),a.drawImage(e,0,0),{error:null,result:c.toDataURL("image/png"),success:!0}):{error:null,result:null,success:!1}))})).catch((e=>({error:e,result:null,success:!1})))}function _(e){if(!e)return console.error("转换失败：缺少参数"),[0,0,0,0];let t=document.createElement("canvas"),r=null;t.width=1,t.height=1,r=t.getContext("2d"),r.fillStyle=e,r.fillRect(0,0,1,1);try{let{data:e}=r.getImageData(0,0,1,1);return[e[0],e[1],e[2],e[3]]}catch(o){return console.error("转换失败："),console.error(o),[0,0,0,0]}}function S(){const e=location.search,t=(0,v.parse)(e,{charset:"utf-8",ignoreQueryPrefix:!0});return t}function x(e={}){return(0,v.stringify)(e,{charset:"utf-8",addQueryPrefix:!1})}const F=e=>((0,f.dD)("data-v-0414599a"),e=e(),(0,f.Cn)(),e),C={class:"qr-encode"},L=["src"],R={class:"code-tips"},V={class:"config-item"},z=F((()=>(0,f._)("span",{class:"label"},"前景色：",-1))),j={class:"config-item"},D=F((()=>(0,f._)("span",{class:"label"},"背景色：",-1))),O={class:"config-item"},T={class:"config-item"};var W={__name:"CodeGenerator",props:{readonly:{type:Boolean,default:!1}},setup(e){const t=(0,p.Um)({codeSize:0,codeURL:"",readonly:!1,colorBackground:"#FFFFFF",colorForeground:"#000000",margin:10,size:256,text:""}),r=(0,f.Fl)((()=>!t.readonly));function n(){const{readonly:e="0",text:r=""}=S();t.readonly="1"===e,t.text=r}function l(){const e=location.origin,r=location.pathname,o=x({readonly:"1",text:t.text}),n=`${e}${r}?${o}`;navigator.clipboard.writeText(n).then((()=>{b("success",{content:"复制成功"})})).catch((()=>{b("error",{content:"复制失败，可能是没有权限"})}))}async function c(){const{error:e,result:r,success:o}=await k(t);o||(console.error("生成二维码失败："),console.error(e));const n=y(r),l=n?URL.createObjectURL(n):null;t.codeURL&&URL.revokeObjectURL(t.codeURL),t.codeSize=t.size,t.codeURL=l}return(0,f.wF)((()=>{n()})),(0,f.bv)((()=>{c()})),(e,n)=>{const a=(0,f.up)("t-button"),u=(0,f.up)("t-tooltip"),i=(0,f.up)("t-card"),s=(0,f.up)("t-input"),d=(0,f.up)("t-color-picker"),m=(0,f.up)("t-input-number");return(0,f.wg)(),(0,f.iD)("div",C,[(0,f.Wm)(i,{class:"content-card code-result",title:"二维码预览",bordered:!1,"header-bordered":!0,shadow:!0},(0,f.Nv)({default:(0,f.w5)((()=>[(0,f._)("div",{class:"code-image-wrapper",style:(0,g.j5)({"--code-size":(0,p.SU)(t).codeSize})},[(0,p.SU)(t).codeURL?((0,f.wg)(),(0,f.iD)("img",{key:0,alt:"二维码",class:"code-image",src:(0,p.SU)(t).codeURL},null,8,L)):(0,f.kq)("",!0)],4),(0,f.wy)((0,f._)("div",R,"若您在移动端访问，可尝试长按识别。",512),[[o.F8,(0,p.SU)(t).readonly]])])),_:2},[(0,p.SU)(r)?{name:"actions",fn:(0,f.w5)((()=>[(0,f.Wm)(u,{content:"生成二维码"},{default:(0,f.w5)((()=>[(0,f.Wm)(a,{theme:"primary",variant:"text",onClick:c},{default:(0,f.w5)((()=>[(0,f.Uk)("生成 / 刷新")])),_:1})])),_:1}),(0,f.Wm)(u,{content:"复制二维码预览地址"},{default:(0,f.w5)((()=>[(0,f.Wm)(a,{theme:"primary",variant:"text",onClick:l},{default:(0,f.w5)((()=>[(0,f.Uk)("复制地址")])),_:1})])),_:1})])),key:"0"}:void 0]),1024),(0,p.SU)(r)?((0,f.wg)(),(0,f.j4)(i,{key:0,class:"content-card set-text",title:"二维码内容",bordered:!1,"header-bordered":!0,shadow:!0},{default:(0,f.w5)((()=>[(0,f.Wm)(s,{modelValue:(0,p.SU)(t).text,"onUpdate:modelValue":n[0]||(n[0]=e=>(0,p.SU)(t).text=e)},null,8,["modelValue"])])),_:1})):(0,f.kq)("",!0),(0,p.SU)(r)?((0,f.wg)(),(0,f.j4)(i,{key:1,class:"content-card set-color",title:"二维码颜色",bordered:!1,"header-bordered":!0,shadow:!0},{default:(0,f.w5)((()=>[(0,f._)("div",V,[z,(0,f.Wm)(d,{modelValue:(0,p.SU)(t).colorForeground,"onUpdate:modelValue":n[1]||(n[1]=e=>(0,p.SU)(t).colorForeground=e),"color-modes":["monochrome"],"recent-colors":null,format:"HEX"},null,8,["modelValue"])]),(0,f._)("div",j,[D,(0,f.Wm)(d,{modelValue:(0,p.SU)(t).colorBackground,"onUpdate:modelValue":n[2]||(n[2]=e=>(0,p.SU)(t).colorBackground=e),"color-modes":["monochrome"],"recent-colors":null,format:"HEX"},null,8,["modelValue"])])])),_:1})):(0,f.kq)("",!0),(0,p.SU)(r)?((0,f.wg)(),(0,f.j4)(i,{key:2,class:"content-card set-size",title:"二维码大小",bordered:!1,"header-bordered":!0,shadow:!0},{default:(0,f.w5)((()=>[(0,f._)("div",O,[(0,f.Wm)(m,{modelValue:(0,p.SU)(t).size,"onUpdate:modelValue":n[3]||(n[3]=e=>(0,p.SU)(t).size=e),label:"尺寸：",theme:"column","allow-input-over-limit":!1,"decimal-places":0,min:128,max:1024,step:1},null,8,["modelValue"])]),(0,f._)("div",T,[(0,f.Wm)(m,{modelValue:(0,p.SU)(t).margin,"onUpdate:modelValue":n[4]||(n[4]=e=>(0,p.SU)(t).margin=e),label:"边距：",theme:"column","allow-input-over-limit":!1,"decimal-places":0,min:0,max:100,step:1},null,8,["modelValue"])])])),_:1})):(0,f.kq)("",!0)])}}},q=r(1164);const I=(0,q.Z)(W,[["__scopeId","data-v-0414599a"]]);var E=I;const P={class:"qr-decode"},B=(0,f._)("div",null,"开发中，暂不支持。",-1),A=[B];function H(e,t){return(0,f.wg)(),(0,f.iD)("div",P,A)}const K={},Q=(0,q.Z)(K,[["render",H]]);var Z=Q;const X={class:"app-header"},$={class:"app-wrapper"},G=["textContent","onClick"],M={class:"app-content"};var Y={__name:"App",setup(e){const t=(0,p.Um)({currTabComponent:null,currTabKey:""}),r=(0,p.Xl)([{key:"encode",label:"生成",c:E},{key:"decode",label:"解析",c:Z}]);function o(){n(r[0])}function n(e={}){t.currTabComponent=e.c,t.currTabKey=e.key}return(0,f.bv)((()=>{o()})),(e,o)=>((0,f.wg)(),(0,f.iD)(f.HY,null,[(0,f._)("div",X,[(0,f._)("div",$,[((0,f.wg)(!0),(0,f.iD)(f.HY,null,(0,f.Ko)((0,p.SU)(r),(e=>((0,f.wg)(),(0,f.iD)("div",{textContent:(0,g.zw)(e.label),key:e.key,class:(0,g.C_)([{active:(0,p.SU)(t).currTabKey===e.key},"tab-item"]),onClick:t=>n(e)},null,10,G)))),128))])]),(0,f._)("div",M,[(0,p.SU)(t).currTabComponent?((0,f.wg)(),(0,f.j4)((0,f.LL)((0,p.SU)(t).currTabComponent),{key:0,class:"app-wrapper"})):(0,f.kq)("",!0)])],64))}};const N=Y;var J=N;const ee=(0,o.ri)(J);m(ee).mount("#app")},1129:function(){}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var l=t[o]={exports:{}};return e[o].call(l.exports,l,l.exports,r),l.exports}r.m=e,function(){var e=[];r.O=function(t,o,n,l){if(!o){var c=1/0;for(s=0;s<e.length;s++){o=e[s][0],n=e[s][1],l=e[s][2];for(var a=!0,u=0;u<o.length;u++)(!1&l||c>=l)&&Object.keys(r.O).every((function(e){return r.O[e](o[u])}))?o.splice(u--,1):(a=!1,l<c&&(c=l));if(a){e.splice(s--,1);var i=n();void 0!==i&&(t=i)}}return t}l=l||0;for(var s=e.length;s>0&&e[s-1][2]>l;s--)e[s]=e[s-1];e[s]=[o,n,l]}}(),function(){r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,l,c=o[0],a=o[1],u=o[2],i=0;if(c.some((function(t){return 0!==e[t]}))){for(n in a)r.o(a,n)&&(r.m[n]=a[n]);if(u)var s=u(r)}for(t&&t(o);i<c.length;i++)l=c[i],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(s)},o=self["webpackChunkqrcode_tool"]=self["webpackChunkqrcode_tool"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(8607)}));o=r.O(o)})();