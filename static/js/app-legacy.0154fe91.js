(function(){var e={346:function(e,t,n){"use strict";n(8984),n(1711),n(3883),n(9630);var r=n(2181),o=n(8165),a=n(8204),c=n(6442),u=n(6034),l=n(191),i=n(4367),d=n(6054),s=n(3683),f=n(6623),m=n(7524);n(9910);function p(e){return e.use(o.z).use(a.II).use(c.R).use(u.g).use(l.G).use(i.Ph).use(d.Z).use(s.z).use(s.e).use(f.u).use(m.g)}var v=n(6492),g=n(9994),h=n(2185),w=n(8941),b=n(1128),U=(n(2553),n(1025),n(8897),n(8902),n(1603),n(8129),n(8187)),y=(n(1827),n(4936),n(9804),n(9914),n(2282),n(4461),n(9949),n(7525),n(1080),n(7888),n(1940),n(5769),n(5825),n(5752),n(8489),n(1414),n(8796),n(1875),n(7612),n(239),n(3337),n(4290),n(3192),n(2272),n(7957),n(4826),n(716),n(9829),n(2824),n(4603),n(9489),n(9609),n(4233),n(9125),n(5292),n(8138),n(2511),n(5806)),k=n(7216),_=n(2775);function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"info",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,_.Z)(e,(0,U.Z)({content:"",duration:2e3},t))}function S(e){if(!e)return console.error("转换失败：参数为空"),null;try{var t=e.split(","),n=t[0].match(/:(.*?);/)[1],r=atob(t[1]),o=r.length,a=new Uint8Array(o);while(o-- >0)a[o]=r.charCodeAt(o);return new Blob([a],{type:n})}catch(c){return console.error("转换失败，可能是参数错误："),console.error(c),null}}function F(e){return e?new Promise((function(t){var n=new Image;n.onerror=function(){console.error("转换失败：参数错误"),t(null)},n.onload=function(){t(n)},n.src=e})):(console.error("转换失败：参数为空"),Promise.resolve(null))}function L(){return R.apply(this,arguments)}function R(){return R=(0,b.Z)((0,w.Z)().mark((function e(){var t,n,r,o,a,c,u,l,i,d,s,f=arguments;return(0,w.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:{},n=t.colorBackground,r=void 0===n?"#FFFFFF":n,o=t.colorForeground,a=void 0===o?"#000000":o,c=t.margin,u=void 0===c?10:c,l=t.size,i=void 0===l?256:l,d=t.text,s=void 0===d?"":d,e.abrupt("return",new y.AwesomeQR({autoColor:!1,colorDark:"#000000",colorLight:"#FFFFFF",components:{alignment:{scale:1,protectors:!1},cornerAlignment:{scale:1,protectors:!0},data:{scale:1},timing:{scale:1,protectors:!1}},correctLevel:y.QRErrorCorrectLevel.M,margin:u,size:i,text:s,whiteMargin:!1}).draw().then((function(e){if(!e)return{error:new Error("生成结果为空"),result:null,success:!1};var t=C(r),n=C(a),o=document.createElement("canvas"),c=o.getContext("2d");return o.width=i,o.height=i,F(e).then((function(e){if(!e)return null;c.drawImage(e,0,0);for(var r=c.getImageData(0,0,i,i),a=r.data,u=0;u<a.length;u+=4){var l=a[u],d=a[u+1],s=a[u+2],f=l+d+s;switch(f){case 765:a[u]=t[0],a[u+1]=t[1],a[u+2]=t[2],a[u+3]=255;break;case 0:a[u]=n[0],a[u+1]=n[1],a[u+2]=n[2],a[u+3]=255;break;default:a[u]=n[0],a[u+1]=n[1],a[u+2]=n[2],a[u+3]=128;break}}return c.putImageData(r,0,0),F(o.toDataURL("image/png"))})).then((function(e){return e?(c.fillStyle=r,c.fillRect(0,0,i,i),c.drawImage(e,0,0),{error:null,result:o.toDataURL("image/png"),success:!0}):{error:null,result:null,success:!1}}))}))["catch"]((function(e){return{error:e,result:null,success:!1}})));case 3:case"end":return e.stop()}}),e)}))),R.apply(this,arguments)}function C(e){if(!e)return console.error("转换失败：缺少参数"),[0,0,0,0];var t=document.createElement("canvas"),n=null;t.width=1,t.height=1,n=t.getContext("2d"),n.fillStyle=e,n.fillRect(0,0,1,1);try{var r=n.getImageData(0,0,1,1),o=r.data;return[o[0],o[1],o[2],o[3]]}catch(a){return console.error("转换失败："),console.error(a),[0,0,0,0]}}function V(){var e=location.search,t=(0,k.parse)(e,{charset:"utf-8",ignoreQueryPrefix:!0});return t}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,k.stringify)(e,{charset:"utf-8",addQueryPrefix:!1})}var j=function(e){return(0,v.dD)("data-v-baf517ce"),e=e(),(0,v.Cn)(),e},O={class:"qr-encode"},W=["src"],z={class:"code-tips"},I={class:"config-item"},Z=j((function(){return(0,v._)("span",{class:"label"},"前景色：",-1)})),q={class:"config-item"},E=j((function(){return(0,v._)("span",{class:"label"},"背景色：",-1)})),T={class:"config-item"},P={class:"config-item"},A={__name:"CodeGenerator",props:{readonly:{type:Boolean,default:!1}},setup:function(e){var t=(0,g.Um)({codeSize:0,codeURL:"",readonly:!1,colorBackground:"#FFFFFF",colorForeground:"#000000",margin:10,size:256,text:""}),n=(0,v.Fl)((function(){return!t.readonly}));function o(){var e=V(),n=e.readonly,r=void 0===n?"0":n,o=e.text,a=void 0===o?"":o;t.readonly="1"===r,t.text=a}function a(){var e=location.origin,n=location.pathname,r=D({readonly:"1",text:t.text}),o="".concat(e).concat(n,"?").concat(r);navigator.clipboard.writeText(o).then((function(){x("success",{content:"复制成功"})}))["catch"]((function(){x("error",{content:"复制失败，可能是没有权限"})}))}function c(){return u.apply(this,arguments)}function u(){return u=(0,b.Z)((0,w.Z)().mark((function e(){var n,r,o,a,c,u;return(0,w.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:n=e.sent,r=n.error,o=n.result,a=n.success,a||(console.error("生成二维码失败："),console.error(r)),c=S(o),u=c?URL.createObjectURL(c):null,t.codeURL&&URL.revokeObjectURL(t.codeURL),t.codeSize=t.size,t.codeURL=u;case 12:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}return(0,v.wF)((function(){o()})),(0,v.bv)((function(){c()})),function(e,o){var u=(0,v.up)("t-button"),l=(0,v.up)("t-tooltip"),i=(0,v.up)("t-card"),d=(0,v.up)("t-textarea"),s=(0,v.up)("t-color-picker"),f=(0,v.up)("t-input-number");return(0,v.wg)(),(0,v.iD)("div",O,[(0,v.Wm)(i,{class:"content-card code-result",title:"二维码预览",bordered:!1,"header-bordered":!0,shadow:!0},(0,v.Nv)({default:(0,v.w5)((function(){return[(0,v._)("div",{class:"code-image-wrapper",style:(0,h.j5)({"--code-size":(0,g.SU)(t).codeSize})},[(0,g.SU)(t).codeURL?((0,v.wg)(),(0,v.iD)("img",{key:0,alt:"二维码",class:"code-image",src:(0,g.SU)(t).codeURL},null,8,W)):(0,v.kq)("",!0)],4),(0,v.wy)((0,v._)("div",z,"若您在移动端访问，可尝试长按识别。",512),[[r.F8,(0,g.SU)(t).readonly]])]})),_:2},[(0,g.SU)(n)?{name:"actions",fn:(0,v.w5)((function(){return[(0,v.Wm)(l,{content:"生成二维码"},{default:(0,v.w5)((function(){return[(0,v.Wm)(u,{theme:"primary",variant:"text",onClick:c},{default:(0,v.w5)((function(){return[(0,v.Uk)("生成 / 刷新")]})),_:1})]})),_:1}),(0,v.Wm)(l,{content:"复制二维码预览地址"},{default:(0,v.w5)((function(){return[(0,v.Wm)(u,{theme:"primary",variant:"text",onClick:a},{default:(0,v.w5)((function(){return[(0,v.Uk)("复制地址")]})),_:1})]})),_:1})]})),key:"0"}:void 0]),1024),(0,g.SU)(n)?((0,v.wg)(),(0,v.j4)(i,{key:0,class:"content-card set-text",title:"二维码内容",bordered:!1,"header-bordered":!0,shadow:!0},{default:(0,v.w5)((function(){return[(0,v.Wm)(d,{modelValue:(0,g.SU)(t).text,"onUpdate:modelValue":o[0]||(o[0]=function(e){return(0,g.SU)(t).text=e})},null,8,["modelValue"])]})),_:1})):(0,v.kq)("",!0),(0,g.SU)(n)?((0,v.wg)(),(0,v.j4)(i,{key:1,class:"content-card set-color",title:"二维码颜色",bordered:!1,"header-bordered":!0,shadow:!0},{default:(0,v.w5)((function(){return[(0,v._)("div",I,[Z,(0,v.Wm)(s,{modelValue:(0,g.SU)(t).colorForeground,"onUpdate:modelValue":o[1]||(o[1]=function(e){return(0,g.SU)(t).colorForeground=e}),"color-modes":["monochrome"],"recent-colors":null,format:"HEX"},null,8,["modelValue"])]),(0,v._)("div",q,[E,(0,v.Wm)(s,{modelValue:(0,g.SU)(t).colorBackground,"onUpdate:modelValue":o[2]||(o[2]=function(e){return(0,g.SU)(t).colorBackground=e}),"color-modes":["monochrome"],"recent-colors":null,format:"HEX"},null,8,["modelValue"])])]})),_:1})):(0,v.kq)("",!0),(0,g.SU)(n)?((0,v.wg)(),(0,v.j4)(i,{key:2,class:"content-card set-size",title:"二维码大小",bordered:!1,"header-bordered":!0,shadow:!0},{default:(0,v.w5)((function(){return[(0,v._)("div",T,[(0,v.Wm)(f,{modelValue:(0,g.SU)(t).size,"onUpdate:modelValue":o[3]||(o[3]=function(e){return(0,g.SU)(t).size=e}),label:"尺寸：",theme:"column","allow-input-over-limit":!1,"decimal-places":0,min:128,max:1024,step:1},null,8,["modelValue"])]),(0,v._)("div",P,[(0,v.Wm)(f,{modelValue:(0,g.SU)(t).margin,"onUpdate:modelValue":o[4]||(o[4]=function(e){return(0,g.SU)(t).margin=e}),label:"边距：",theme:"column","allow-input-over-limit":!1,"decimal-places":0,min:0,max:100,step:1},null,8,["modelValue"])])]})),_:1})):(0,v.kq)("",!0)])}}},B=n(1164);const H=(0,B.Z)(A,[["__scopeId","data-v-baf517ce"]]);var K=H,Q=(n(9694),n(7747),n(7)),M=n.n(Q),X=function(e){return(0,v.dD)("data-v-dc677978"),e=e(),(0,v.Cn)(),e},G={class:"qr-decode"},Y=X((function(){return(0,v._)("div",{class:"code-tips"},[(0,v._)("span",null,"支持复制二维码图片后直接在此处粘贴（Ctrl + V）进行解析。")],-1)})),J={__name:"CodeReader",setup:function(e){var t=(0,g.Um)({files:[],imageURL:"",text:""});function n(e){var t=e.clipboardData,n=t?t.items:null,o=null;if(n){for(var a=0;a<n.length;a++){var c=n[a];if("file"===c.kind&&c.type.includes("image/")){o=c.getAsFile();break}}o?r({raw:o}):x("warning",{content:"剪贴板中没有图片",duration:2e3})}}function r(e){if(!e)return Promise.resolve({error:"参数错误",status:"fail"});var n=e.raw,r=URL.createObjectURL(n);return t.imageURL&&URL.revokeObjectURL(t.imageURL),t.imageURL=r,o(r),Promise.resolve({status:"success",response:{url:r}})}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=document.createElement("canvas"),r=null,o=new Image;o.onload=function(){var e=o.naturalWidth,a=o.naturalHeight;n.width=e,n.height=a,r=n.getContext("2d"),r.drawImage(o,0,0);var c=r.getImageData(0,0,e,a),u=M()(c.data,e,a);u?(x("success",{content:"解析成功",duration:2e3}),t.text=u.data):(x("warning",{content:"未在图片中识别到二维码",duration:2e3}),t.text="")},o.src=e}return(0,v.bv)((function(){document.addEventListener("paste",n)})),(0,v.Jd)((function(){document.removeEventListener("paste",n)})),function(e,n){var o=(0,v.up)("t-upload"),a=(0,v.up)("t-card"),c=(0,v.up)("t-textarea");return(0,v.wg)(),(0,v.iD)("div",G,[(0,v.Wm)(a,{class:"content-card code-picker",title:"选择图片",bordered:!1,"header-bordered":!0,shadow:!0},{default:(0,v.w5)((function(){return[(0,v.Wm)(o,{modelValue:(0,g.SU)(t).files,"onUpdate:modelValue":n[0]||(n[0]=function(e){return(0,g.SU)(t).files=e}),accept:"image/*",theme:"image","auto-upload":!0,multiple:!1,"request-method":r,draggable:""},null,8,["modelValue"]),Y]})),_:1}),(0,v.Wm)(a,{class:"content-card code-result",title:"识别结果",bordered:!1,"header-bordered":!0,shadow:!0},{default:(0,v.w5)((function(){return[(0,v.Wm)(c,{modelValue:(0,g.SU)(t).text,"onUpdate:modelValue":n[1]||(n[1]=function(e){return(0,g.SU)(t).text=e}),readonly:""},null,8,["modelValue"])]})),_:1})])}}};const N=(0,B.Z)(J,[["__scopeId","data-v-dc677978"]]);var $=N,ee={class:"app-header"},te={class:"app-wrapper"},ne=["textContent","onClick"],re={class:"app-content"},oe={__name:"App",setup:function(e){var t=(0,g.Um)({currTabComponent:null,currTabKey:""}),n=(0,g.Xl)([{key:"encode",label:"生成",c:K},{key:"decode",label:"解析",c:$}]);function r(){o(n[0])}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.currTabComponent=e.c,t.currTabKey=e.key}return(0,v.bv)((function(){r()})),function(e,r){return(0,v.wg)(),(0,v.iD)(v.HY,null,[(0,v._)("div",ee,[(0,v._)("div",te,[((0,v.wg)(!0),(0,v.iD)(v.HY,null,(0,v.Ko)((0,g.SU)(n),(function(e){return(0,v.wg)(),(0,v.iD)("div",{textContent:(0,h.zw)(e.label),key:e.key,class:(0,h.C_)([{active:(0,g.SU)(t).currTabKey===e.key},"tab-item"]),onClick:function(t){return o(e)}},null,10,ne)})),128))])]),(0,v._)("div",re,[(0,g.SU)(t).currTabComponent?((0,v.wg)(),(0,v.j4)((0,v.LL)((0,g.SU)(t).currTabComponent),{key:0,class:"app-wrapper"})):(0,v.kq)("",!0)])],64)}}};const ae=oe;var ce=ae,ue=(0,r.ri)(ce);p(ue).mount("#app")},1129:function(){}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,r,o,a){if(!r){var c=1/0;for(d=0;d<e.length;d++){r=e[d][0],o=e[d][1],a=e[d][2];for(var u=!0,l=0;l<r.length;l++)(!1&a||c>=a)&&Object.keys(n.O).every((function(e){return n.O[e](r[l])}))?r.splice(l--,1):(u=!1,a<c&&(c=a));if(u){e.splice(d--,1);var i=o();void 0!==i&&(t=i)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[r,o,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,a,c=r[0],u=r[1],l=r[2],i=0;if(c.some((function(t){return 0!==e[t]}))){for(o in u)n.o(u,o)&&(n.m[o]=u[o]);if(l)var d=l(n)}for(t&&t(r);i<c.length;i++)a=c[i],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(d)},r=self["webpackChunkqrcode_tool"]=self["webpackChunkqrcode_tool"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(346)}));r=n.O(r)})();